
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<body>
<iframe id="libFrame" allowfullscreen="" scrolling="no" frameborder="0" height="1500px" src="library.html?lib=85159&amp;consortium=2113&amp;lang=fi" width="100%"></iframe>
</body>
</html>
<script type="text/javascript">
  var container = document.getElementById('libFrame');
  // Add transition style for smooth height adjustments.
  var css = document.createElement("style");
  css.type = "text/css";
  css.innerHTML = '#libFrame { transition: height 800ms; }';
  document.head.appendChild(css);
  // https://stackoverflow.com/questions/25098021/securityerror-blocked-a-frame-with-origin-from-accessing-a-cross-origin-frame
  window.addEventListener('message', function(event) {
    console.log(event.data);
    var data = event.data;

    if(data.type === "scroll") {
      console.log("scroll to");
      var rect = container.getBoundingClientRect();
      window.scrollTo(0, rect.top + data.value);
    }
    else if(data.type === "resize") {
      container.style.height = (data.value) + "px";
    }
    else if(data.type === "url") {
      try {
        history.pushState("#", "", data.value);
      }
      catch (e) {
        console.log("Url failed to update: " + e);
      }
    }
  });
</script>





